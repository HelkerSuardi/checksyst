(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("2f39")},"0047":function(e,t,n){},1:function(e,t){},2:function(e,t){},"2f39":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"vehicles",(function(){return y})),n.d(r,"vehicle",(function(){return O}));var c={};n.r(c),n.d(c,"setVehicles",(function(){return S})),n.d(c,"setVehicle",(function(){return T}));var i={};n.r(i),n.d(i,"checks",(function(){return W})),n.d(i,"check",(function(){return Y})),n.d(i,"vehicles",(function(){return $})),n.d(i,"itemsEquips",(function(){return Q})),n.d(i,"firefighters",(function(){return z}));var u={};n.r(u),n.d(u,"setChecks",(function(){return G})),n.d(u,"setCheck",(function(){return H})),n.d(u,"setVehicles",(function(){return X})),n.d(u,"setItemsEquips",(function(){return Z})),n.d(u,"setFirefighters",(function(){return ee}));var a={};n.r(a),n.d(a,"firefighters",(function(){return ce})),n.d(a,"firefighter",(function(){return ie}));var o={};n.r(o),n.d(o,"setFirefighters",(function(){return ue})),n.d(o,"setFirefighter",(function(){return ae}));var s={};n.r(s),n.d(s,"itemEquips",(function(){return le})),n.d(s,"itemEquip",(function(){return he}));var f={};n.r(f),n.d(f,"setItemEquips",(function(){return pe})),n.d(f,"setItemEquip",(function(){return me}));var l=n("967e"),h=n.n(l),p=(n("a481"),n("96cf"),n("fa84")),m=n.n(p),d=(n("7d6e"),n("e54f"),n("985d"),n("0047"),n("2b0e")),v=n("f476"),g=n("42d2"),b=n("b05d"),k=n("2a19"),E=n("436b");d["a"].use(b["a"],{config:{},lang:v["a"],iconSet:g["a"],plugins:{Notify:k["a"],Dialog:E["a"]}});var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},q=[],x={name:"App"},_=x,R=n("2877"),A=Object(R["a"])(_,w,q,!1,null,null,null),P=A.exports,I=n("2f62"),V={vehicles:[],vehicle:""};function y(e){return e.vehicles}function O(e){return e.vehicle}function S(e,t){e.vehicles=t}function T(e,t){e.vehicle=t}n("6b54"),n("06db"),n("551c");var U=n("bc3a"),N=n.n(U),C=n("b87b"),D=function(){return{Accept:"application/json","Content-Type":"application/json","x-access-token":C["a"].getToken()}},F=N.a.create({baseURL:"".concat("http://localhost:3002","/api"),transformRequest:[function(e,t){return t["x-access-token"]=C["a"].getToken(),JSON.stringify(e)}],headers:D()});F.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&C["a"].logout(),Promise.reject(e)}));var L=function(e){var t=e.Vue;t.prototype.$axios=F},j={get:function(e,t){return F.get(e,t).then((function(e){var t=e.data;return t}))},post:function(e,t){return F.post(e,t).then((function(e){var t=e.data;return t}))},put:function(e,t){return F.put(e,t).then((function(e){var t=e.data;return t}))},delete:function(e){return F.delete(e)}},K=j,M={getVehicles:function(e){var t=e.commit;K.get("/vehicles").then((function(e){t("setVehicles",e.items)}))},getVehicle:function(e,t){var n=e.commit;K.get("/vehicles/".concat(t)).then((function(e){n("setVehicle",e)}))},removeVehicle:function(e,t){e.commit;K.delete("/vehicles/".concat(t))},createNewVehicle:function(){var e=m()(h.a.mark((function e(t,n){return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.commit,!n.id){e.next=12;break}return e.prev=2,e.next=5,K.put("/vehicles/".concat(n.id.toString()),n);case 5:return e.abrupt("return");case 8:return e.prev=8,e.t0=e["catch"](2),console.log(e.t0),e.abrupt("return");case 12:return e.prev=12,e.next=15,K.post("/vehicles",n);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](12),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[2,8],[12,17]])})));function t(t,n){return e.apply(this,arguments)}return t}()},J={namespaced:!0,getters:r,mutations:c,actions:M,state:V},B={checks:[],vehicles:[],itemsEquips:[],firefighters:[],check:""};function W(e){return e.checks}function Y(e){return e.check}function $(e){return e.vehicles}function Q(e){return e.itemsEquips}function z(e){return e.firefighters}function G(e,t){e.checks=t}function H(e,t){e.check=t}function X(e,t){e.vehicles=t}function Z(e,t){e.itemsEquips=t}function ee(e,t){e.firefighters=t}var te={getChecks:function(e){var t=e.commit;K.get("/checks").then((function(e){t("setChecks",e.items)}))},getCheck:function(e,t){var n=e.commit;K.get("/checks/".concat(t)).then((function(e){n("setCheck",e)}))},removeCheck:function(e,t){var n=e.dispatch;K.delete("/checks/".concat(t)),n("getChecks")},getVehicles:function(e){var t=e.commit;K.get("/vehicles").then((function(e){t("setVehicles",e.items)}))},getItemsEquips:function(e){var t=e.commit;K.get("/item-equips").then((function(e){t("setItemsEquips",e.items)}))},getFirefighters:function(e){var t=e.commit;K.get("/firefighters").then((function(e){t("setFirefighters",e.items)}))},saveCheckAndUpdateVehicle:function(){var e=m()(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.commit,r=n.check,console.log(r),!r.id){e.next=16;break}return e.prev=4,e.next=7,K.put("/checks/".concat(r.id),r);case 7:return e.next=9,K.put("/vehicles/".concat(r.vehicle._id),{itemsEquips:r.itemsEquips});case 9:return e.abrupt("return");case 12:return e.prev=12,e.t0=e["catch"](4),console.log(e.t0),e.abrupt("return");case 16:return e.prev=16,e.next=19,K.post("/checks",r);case 19:return e.next=21,K.put("/vehicles/".concat(r.vehicle),{itemsEquips:r.itemsEquips});case 21:e.next=26;break;case 23:e.prev=23,e.t1=e["catch"](16),console.log(e.t1);case 26:case"end":return e.stop()}}),e,null,[[4,12],[16,23]])})));function t(t,n){return e.apply(this,arguments)}return t}()},ne={namespaced:!0,getters:i,mutations:u,actions:te,state:B},re={firefighters:[],firefighter:""};function ce(e){return e.firefighters}function ie(e){return e.firefighter}function ue(e,t){e.firefighters=t}function ae(e,t){e.firefighter=t}var oe={getFirefighters:function(){var e=m()(h.a.mark((function e(t){var n;return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,K.get("/firefighters").then((function(e){n("setFirefighters",e.items)}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getFirefighter:function(e,t){var n=e.commit;K.get("/firefighters/".concat(t)).then((function(e){n("setFirefighter",e)}))},removeFirefighter:function(e,t){e.commit;K.delete("/firefighters/".concat(t))},createNewFirefighter:function(){var e=m()(h.a.mark((function e(t,n){return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.commit,!n.id){e.next=11;break}return e.prev=2,K.put("/firefighters/".concat(n.id.toString()),n),e.abrupt("return");case 7:return e.prev=7,e.t0=e["catch"](2),console.log(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,K.post("/firefighters",n);case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](11),console.log(e.t1);case 19:case"end":return e.stop()}}),e,null,[[2,7],[11,16]])})));function t(t,n){return e.apply(this,arguments)}return t}()},se={namespaced:!0,getters:a,mutations:o,actions:oe,state:re},fe={itemEquips:[],itemEquip:""};function le(e){return e.itemEquips}function he(e){return e.itemEquip}function pe(e,t){e.itemEquips=t}function me(e,t){e.itemEquip=t}var de={getItemEquips:function(e){var t=e.commit;K.get("/item-equips").then((function(e){t("setItemEquips",e.items)}))},getItemEquip:function(e,t){var n=e.commit;K.get("/item-equips/".concat(t)).then((function(e){n("setItemEquip",e)}))},removeItemEquip:function(e,t){e.commit;K.delete("/item-equips/".concat(t))},createNewItem:function(){var e=m()(h.a.mark((function e(t,n){return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.commit,!n.id){e.next=11;break}return e.prev=2,K.put("/item-equips/".concat(n.id),n),e.abrupt("return");case 7:return e.prev=7,e.t0=e["catch"](2),console.log(e.t0),e.abrupt("return");case 11:return e.prev=11,e.next=14,K.post("/item-equips",n);case 14:e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](11),console.log(e.t1);case 19:case"end":return e.stop()}}),e,null,[[2,7],[11,16]])})));function t(t,n){return e.apply(this,arguments)}return t}()},ve={namespaced:!0,getters:s,mutations:f,actions:de,state:fe};d["a"].use(I["b"]);var ge=function(){var e=new I["b"].Store({modules:{vehicle:J,check:ne,firefighter:se,itemEquip:ve}});return e},be=(n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("6762"),n("2fdb"),n("8c4f")),ke=[{path:"/",component:function(){return Promise.all([n.e("vendor"),n.e("2d22c0ff")]).then(n.bind(null,"f241"))},children:[{path:"/",redirect:"/checks",meta:{requiresAuth:!0}},{path:"",redirect:"/checks",meta:{requiresAuth:!0}},{path:"users",name:"users",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("2d0af8f6")]).then(n.bind(null,"0f9c"))}},{path:"users/add",name:"users_add",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("chunk-common"),n.e("2d0c154d")]).then(n.bind(null,"461f"))}},{path:"users/update",name:"users_update",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("chunk-common"),n.e("2d0a5131")]).then(n.bind(null,"08c6"))}},{path:"vehicles",name:"vehicles",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("2d2091bc")]).then(n.bind(null,"a83b"))}},{path:"vehicles/add",name:"vehicles_add",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("chunk-common"),n.e("2d0a34ba")]).then(n.bind(null,"0224"))}},{path:"vehicles/update",name:"vehicles_update",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("chunk-common"),n.e("2d0d0446")]).then(n.bind(null,"66f6"))}},{path:"items",name:"items",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("2d0aa9b9")]).then(n.bind(null,"1279"))}},{path:"items/add",name:"items_add",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("chunk-common"),n.e("2d216824")]).then(n.bind(null,"c386"))}},{path:"items/update",name:"items_update",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("chunk-common"),n.e("2d20f309")]).then(n.bind(null,"b324"))}},{path:"checks",name:"checks",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("chunk-common"),n.e("2d0c94e0")]).then(n.bind(null,"5928"))}},{path:"checks/add",name:"checks_add",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("chunk-common"),n.e("2d0f07b4")]).then(n.bind(null,"9d0c"))}},{path:"checks/update",name:"checks_update",meta:{requiresAuth:!0},component:function(){return Promise.all([n.e("vendor"),n.e("chunk-common"),n.e("2d0e2702")]).then(n.bind(null,"7f63"))}}]},{path:"/login",name:"login",meta:{requiresAuth:!1},component:function(){return Promise.all([n.e("vendor"),n.e("1c3424ba")]).then(n.bind(null,"dfa5"))}},{path:"/logout",name:"logout",meta:{requiresAuth:!1},component:function(){return n.e("2d0b6543").then(n.bind(null,"1d60"))}}];ke.push({path:"*",component:function(){return Promise.all([n.e("vendor"),n.e("4b47640d")]).then(n.bind(null,"e51e"))}});var Ee=ke;d["a"].use(be["a"]);var we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.includes("*"))return!0;var n=!0,r=!1,c=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var a=i.value;if(t.includes(a))return!0}}catch(o){r=!0,c=o}finally{try{n||null==u.return||u.return()}finally{if(r)throw c}}return!1},qe=function(){var e=new be["a"]({scrollBehavior:function(){return{y:0}},routes:Ee,mode:"hash",base:""});return e.beforeEach(function(){var e=m()(h.a.mark((function e(t,n,r){var c;return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.matched.some((function(e){return e.meta.requiresAuth}))){e.next=21;break}return e.prev=1,e.next=4,C["a"].loggedIn();case 4:if(c=e.sent,c){e.next=7;break}return e.abrupt("return",r({name:"login",query:{redirect:t.fullPath}}));case 7:if(t.meta.allowedRoles&&!t.meta.allowedRoles.includes("*")&&0!==t.meta.allowedRoles.length){e.next=9;break}return e.abrupt("return",r());case 9:if(!we(c.roles,t.meta.allowedRoles)){e.next=13;break}return e.abrupt("return",r());case 13:return e.abrupt("return",r({name:n.name,query:{redirect:n.fullPath}}));case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e["catch"](1),e.abrupt("return",r({name:"login",query:{redirect:t.fullPath}}));case 19:e.next=22;break;case 21:return e.abrupt("return",r());case 22:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n,r){return e.apply(this,arguments)}}()),e},xe=function(){return _e.apply(this,arguments)};function _e(){return _e=m()(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof ge){e.next=6;break}return e.next=3,ge({Vue:d["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=ge;case 7:if(t=e.t0,"function"!==typeof qe){e.next=14;break}return e.next=11,qe({Vue:d["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=qe;case 15:return n=e.t1,t.$router=n,r={el:"#q-app",router:n,store:t,render:function(e){return e(P)}},e.abrupt("return",{app:r,store:t,router:n});case 19:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}var Re=n("a925"),Ae={failed:"Action failed",success:"Action was successful"},Pe={"en-us":Ae};d["a"].use(Re["a"]);var Ie=new Re["a"]({locale:"en-us",fallbackLocale:"en-us",messages:Pe}),Ve=function(e){var t=e.app;t.i18n=Ie};function ye(){return Oe.apply(this,arguments)}function Oe(){return Oe=m()(h.a.mark((function e(){var t,n,r,c,i,u,a,o,s;return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe();case 2:t=e.sent,n=t.app,r=t.store,c=t.router,i=!0,u=function(e){i=!1,window.location.href=e},a=window.location.href.replace(window.location.origin,""),o=[Ve,L],s=0;case 11:if(!(!0===i&&s<o.length)){e.next=29;break}if("function"===typeof o[s]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,o[s]({app:n,router:c,store:r,Vue:d["a"],ssrContext:null,redirect:u,urlPath:a});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:s++,e.next=11;break;case 29:if(!1!==i){e.next=31;break}return e.abrupt("return");case 31:new d["a"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),Oe.apply(this,arguments)}ye()},3:function(e,t){},4:function(e,t){},b87b:function(e,t,n){"use strict";var r=n("967e"),c=n.n(r),i=(n("96cf"),n("fa84")),u=n.n(i),a=(n("7f7f"),n("14b7")),o=Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,MODE:"spa",API_URL:"http://localhost:3002",JWT_TOKEN_SECRET:"779e4bba41f7b60aa382ac81842d36ed",VUE_ROUTER_MODE:"hash",VUE_ROUTER_BASE:"",APP_URL:"undefined"}).ID_KEY||"_chs_id_",s=Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,MODE:"spa",API_URL:"http://localhost:3002",JWT_TOKEN_SECRET:"779e4bba41f7b60aa382ac81842d36ed",VUE_ROUTER_MODE:"hash",VUE_ROUTER_BASE:"",APP_URL:"undefined"}).TOKEN_KEY||"_chs_token_",f=Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,MODE:"spa",API_URL:"http://localhost:3002",JWT_TOKEN_SECRET:"779e4bba41f7b60aa382ac81842d36ed",VUE_ROUTER_MODE:"hash",VUE_ROUTER_BASE:"",APP_URL:"undefined"}).USERNAME_KEY||"_chs_username_",l="779e4bba41f7b60aa382ac81842d36ed",h=function(e){var t=e.token,n=e.name,r=e.id,c=e.role;localStorage.setItem(s,t),localStorage.setItem(f,n),localStorage.setItem(o,r),localStorage.setItem("_chs_role",c)},p=function(){localStorage.removeItem(s),localStorage.removeItem(f),sessionStorage.clear(),window.location.href="/login"},m=function(){return localStorage.getItem(o)},d=function(){return localStorage.getItem("_chs_role")},v=function(){return localStorage.getItem(s)},g=function(){return localStorage.getItem(f)},b=function(e){var t=v();if(!t)return!1;var n=a["decode"](t,l).role;return!!n&&-1!==n.indexOf(e)},k=function(){var e=u()(c.a.mark((function e(){var t;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=v(),t){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,a["verify"](t,l);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e["catch"](3),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();t["a"]={login:h,logout:p,loggedIn:k,getId:m,getRole:d,getToken:v,getUsername:g,hasRole:b}}},[[0,"runtime","vendor"]]]);