(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0c94e0"],{5928:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-page",{attrs:{padding:!0}},[n("q-item-label",{staticClass:"q-ml-md q-mb-md",staticStyle:{"font-size":"2rem"}},[e._v("\n            Checagens\n        ")]),n("q-table",{attrs:{data:e.checks,columns:e.columns,"row-key":"name"},scopedSlots:e._u([{key:"body-cell-actions",fn:function(t){return n("q-td",{attrs:{props:t}},[n("q-btn-group",[n("q-btn",{attrs:{icon:"info",color:"standard","text-color":"secondary"},on:{click:function(n){return e.showPdf(t.row)}}}),n("q-btn",{attrs:{icon:"edit",color:"standard","text-color":"primary",to:{name:"checks_update",params:{id:t.row.id}}}}),n("q-btn",{attrs:{icon:"delete_forever","text-color":"red"},on:{click:function(n){return e.remove(t.row.id)}}})],1)],1)}}])},[n("template",{slot:"top-right"},[n("q-input",{attrs:{placeholder:"Procurar"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}])})],1),n("div",{attrs:{slot:"top-left"},slot:"top-left"},[n("q-btn",{attrs:{label:"adicionar nova checagem",icon:"add",color:"green-13",to:{name:"checks_add"}}})],1)],2)],1)],1)},a=[],o=(n("8e6e"),n("cadf"),n("06db"),n("456d"),n("ac4d"),n("8a81"),n("ac6a"),n("4db1")),c=n.n(o),i=n("c47a"),l=n.n(i),s=n("967e"),u=n.n(s),f=(n("96cf"),n("fa84")),d=n.n(f),m=(n("7f7f"),n("c1df")),p=n.n(m),b=n("2f62"),h=n("e499"),g=n.n(h),v=n("4ebb"),y=n.n(v);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}g.a.vfs=y.a.pdfMake.vfs;var q=Object(b["a"])("check"),O=q.mapActions,x=q.mapGetters,P={data:function(){return{columns:[{name:"date",required:!0,label:"Data",align:"left",field:function(e){return e.date},format:function(e){return p()(e).format("DD/MM/YYYY")},sortable:!0},{name:"responsible",required:!0,label:"Responsável",align:"left",field:function(e){return e.firefighter.name},format:function(e){return"".concat(e)},sortable:!0},{name:"vehicle",required:!0,label:"Veículo",align:"left",field:function(e){return e.vehicle.name},format:function(e){return"".concat(e)},sortable:!0},{name:"actions",required:!0,label:"Ações",align:"center",field:function(e){return e.name},format:function(e){return"".concat(e)},sortable:!0}]}},created:function(){var e=d()(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getChecks();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:k({},O(["getChecks","removeCheck"]),{remove:function(e){var t=this;this.$q.dialog({title:"Remover Checagem",message:"Você realmente gostaria de excluir essa checagem ?",cancel:!0}).onOk((function(){t.removeCheck(e).then((function(){t.$q.notify({message:"Checagem excluída com sucesso!",position:"top",color:"green-13"}),t.getChecks()})).catch((function(e){t.$q.notify({message:"Houve um problema, tente novamente mais tarde!",position:"top",color:"red"})}))}))},showPdf:function(e){var t=this.generatePdfContent(e.itemsEquips),n={info:{title:"Checagem "+p()(e.date).format("DD/MM/YYYY"),subject:"Checagem"},header:function(e,t,n){return[{text:"RELATÓRIO DE CHECAGEM",alignment:"center",margin:15,bold:!0,fontSize:15}]},content:[{columns:[{text:"Responsável: "+e.firefighter.name,bold:!0,margin:15,alignment:"left"},{text:"Veículo: "+e.vehicle.name,bold:!0,margin:15},{text:"Data: "+p()(e.date).format("DD/MM/YYYY"),bold:!0,margin:15}]},{layout:"lightHorizontalLines",table:{headerRows:1,widths:["*","*","*"],body:[[{text:"Nome",bold:!0},{text:"Quantidade",bold:!0},{text:"Status",bold:!0}]].concat(c()(t))}}]};g.a.createPdf(n).open()},generatePdfContent:function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var i=o.value;t.push([i.item.name,i.quantity,i.status?"Ok":"Pendente"])}}catch(l){r=!0,a=l}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t}}),computed:k({},x(["checks"]))},C=P,j=n("2877"),D=n("eebe"),Y=n.n(D),Q=n("9989"),E=n("0170"),M=n("eaac"),S=n("db86"),_=n("e7a9"),R=n("9c40"),A=n("27f9"),I=n("0016"),$=Object(j["a"])(C,r,a,!1,null,null,null);t["default"]=$.exports;Y()($,"components",{QPage:Q["a"],QItemLabel:E["a"],QTable:M["a"],QTd:S["a"],QBtnGroup:_["a"],QBtn:R["a"],QInput:A["a"],QIcon:I["a"]})}}]);